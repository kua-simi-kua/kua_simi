name: Reusable Repo Metadata Puller
run-name: Pulling Repo Metadata
on: 
  workflow_call:
    inputs: 
      repos_list_path:
        required: true
        type: string
  # schedule:
  #   - cron: "38 1 * * *"
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: List files in the repository
        run: ls ${{ github.workspace }}
      - name: Run Docker image
        uses: ./
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          file_path: ${{ inputs.repos_list_path }}
      - name: Commit and Pushing Updates
        # uses: actions4git/add-commit-push@v1
        run: |
          git config --global user.name 'yueyeah'
          git config --global user.email 'E0273881@u.nus.edu'
          git add ./repos_info/auth_metadata/
          git commit -m "Added metadata for today"
          git push
